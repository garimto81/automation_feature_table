# PRD-0001 Checklist: 포커 핸드 자동 캡처 및 분류 시스템

## 문서 정보

| 항목 | 내용 |
|------|------|
| **PRD ID** | PRD-0001 |
| **제목** | 포커 피처 테이블 핸드 자동 캡처 및 분류 시스템 |
| **생성일** | 2025-12-23 |
| **수정일** | 2025-12-24 |
| **상태** | In Progress |
| **일정** | 2026-01-02 ~ 2026-03-02 (9주) |
| **진행률** | 0/35 (0%) |

---

## Phase 0: 사전 준비 (01/02 ~ 01/05)

### 1.1 PokerGFX API 확보
- [ ] PokerGFX 기술지원팀 연락
- [ ] JSON API 문서 요청
- [ ] API 접근 권한 확인 (엔터프라이즈 플랜)
- [ ] 테스트 환경 접근 권한 확보
- [ ] JSON 출력 형식 분석 및 문서화

### 1.2 Gemini API 설정
- [ ] Google AI Studio 계정 생성
- [ ] Gemini API 키 발급
- [ ] Live API 접근 권한 확인
- [ ] 비용 한도 설정

### 1.3 인프라 확인
- [ ] 각 테이블 카메라 RTSP/NDI 출력 확인
- [ ] 네트워크 대역폭 측정 (테이블당 5-10 Mbps)
- [ ] GPU 서버 준비 (RTX 3060+)

---

## Phase 1: Primary Layer 구축 (01/06 ~ 01/19)

### 2.1 PokerGFX JSON 파서
- [ ] JSON 스키마 정의
- [ ] 핸드 이벤트 파서 구현
- [ ] 핸드 시작/종료 감지 로직
- [ ] 단위 테스트 작성

### 2.2 핸드 분류 엔진
- [ ] phevaluator 라이브러리 연동
- [ ] 카드 문자열 → phevaluator 형식 변환기
- [ ] 핸드 등급 분류 로직 (10단계)
- [ ] 프리미엄 핸드 판별 로직 (등급 1-4)
- [ ] 단위 테스트 작성

### 2.3 Primary 통합 테스트
- [ ] 단일 테이블 연동 테스트
- [ ] 핸드 감지 정확도 검증 (목표: >99%)
- [ ] 지연시간 측정 (목표: <100ms)

---

## Phase 2: Secondary Layer 구축 (01/20 ~ 02/02)

### 3.1 비디오 캡처 파이프라인
- [ ] OpenCV RTSP 스트림 캡처 구현
- [ ] 프레임 추출 (1 FPS)
- [ ] JPEG 인코딩 최적화

### 3.2 Gemini Live API 연동
- [ ] WebSocket 연결 구현
- [ ] 포커 분석 시스템 프롬프트 작성
- [ ] 프레임 전송 및 응답 파싱
- [ ] 세션 자동 재연결 (10분 제한 대응)

### 3.3 AI 추론 테스트
- [ ] 핸드 경계 감지 정확도 테스트
- [ ] 카드 인식 정확도 테스트
- [ ] 신뢰도 임계값 조정 (목표: >0.8)

---

## Phase 3: Fusion Engine (02/03 ~ 02/09)

### 4.1 교차 검증 로직
- [ ] Primary/Secondary 결과 융합 엔진
- [ ] 4가지 케이스 분기 로직 구현
- [ ] 리뷰 플래그 시스템

### 4.2 모니터링
- [ ] 실시간 상태 대시보드
- [ ] 알림 시스템 (Slack/Discord)
- [ ] 로그 수집 및 분석

---

## Phase 4: 멀티테이블 확장 (02/10 ~ 02/23)

### 5.1 병렬 처리
- [ ] 3-5대 테이블 동시 처리 아키텍처
- [ ] 부하 테스트 및 최적화
- [ ] 메모리/CPU 사용량 모니터링

### 5.2 출력 연동
- [ ] Hand2Note API 연동
- [ ] 실시간 오버레이 (WebSocket + HTML)
- [ ] EDL/XML 클립 마커 생성

---

## Phase 5: 프로덕션 배포 (02/24 ~ 03/02)

### 6.1 최종 검증
- [ ] 실제 방송 환경 테스트
- [ ] 엔드투엔드 테스트 (전체 파이프라인)
- [ ] 장애 복구 테스트

### 6.2 문서화
- [ ] 운영 매뉴얼 작성
- [ ] 트러블슈팅 가이드
- [ ] API 문서화

---

## 성공 기준

| 지표 | 목표값 | 현재값 | 상태 |
|------|--------|--------|------|
| 핸드 감지 정확도 (Primary) | > 99% | - | - |
| 핸드 감지 정확도 (Secondary) | > 85% | - | - |
| 핸드 분류 정확도 | 100% | - | - |
| 시스템 가용성 | > 99.9% | - | - |
| 핸드 감지 지연시간 | < 2초 | - | - |

---

## 관련 PR

| PR | 설명 | 상태 |
|----|------|------|
| - | - | - |

---

## 변경 이력

| 날짜 | 변경 내용 | 작성자 |
|------|----------|--------|
| 2025-12-23 | 초기 체크리스트 생성 | Claude |
| 2025-12-24 | 구체적 일정 추가 (01/02~03/02, 9주) | Claude |
